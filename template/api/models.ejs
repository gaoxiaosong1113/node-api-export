import { <%= tags.name %>Api } from "@/services";
import { Request, PagesUtils } from '@/utils/SkUtils';

export default {
    namespace: '<%= tags.name[0].toLowerCase() _%><%= tags.name.slice(1,tags.name.length) %>Model',

    state: {

    },

    effects: {
        
        // * 以下为示例代码,生成完以后仅供参考,需要删除
        // POST /deliver/order/page
        // 获取分页请求
        //  *getDeliverOrderPage({ payload, callback }, { call, put }) {
            //   const response = yield Request.request(DeliverOrderApi["POST/deliver/order/page"], payload, 'page')
            //   yield PagesUtils.pushQueryToPath(payload, put)
            //   return Request.responsePromise(response)
            //  },
    <% for (let attr in tags.children){ %>
        // <%= tags.children[attr].description %>
        <%  var attrAry = attr.split('/'), name = '122'
            if(attrAry[attrAry.length-1]=='{id}'){
                name = ''
                for( var i=0; i<attrAry.length-1; i++){
                    var item = attrAry[i]
                    if(i==0){
                        name += tags.children[attr]['requestType']
                    }
                    if(i>0){
                        name += item[0].toUpperCase() + item.slice(1,item.length)
                    }
                }
            }else{
                name = attrAry.reverse()[0]
            } %> *<%= name %>({ payload }, { call, put }) {
            return Request.responsePromise(yield Request.request(<%= tags.name %>Api["<%=tags.children[attr]['requestType'].toUpperCase()%><%= attr %>"], payload));
        },
    <% } %>
    },
    reducer: {
    },
};

